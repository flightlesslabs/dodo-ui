import{p as _,D as w,o as N,f as S,e as L,b as g,c as j,j as C,i as O,s as V,k as I,g as u,u as x,G as q}from"./iframe-Dm2oeldt.js";import{e as z,i as E}from"./each-BS9oREbV.js";import{a as P}from"./create-runtime-stories-DwmOa5kD.js";import{b as A,s as R}from"./this-5OZYxuTc.js";import{g as p}from"./getMoment-DtA9pdSi.js";import{C as B}from"./CalendarDateChip-B0S_tDGF.js";import{C as F,a as W}from"./CalendarWeek-Bu69LX9r.js";import"./Popper-BTA-ov8j.js";import"./MenuItem-DlUHDrj0.js";var G=S('<li class="daysRow svelte-tlq3dy"><ul class="svelte-tlq3dy"></ul></li>'),H=S("<ul><!> <!></ul>");function U(a,e){_(e,!0);let n=w(e,"class",3,""),t=w(e,"ref",15),r=w(e,"showSelected",3,!0),d=w(e,"size",3,"normal"),M=w(e,"weekendDaysColorDays",3,!0),f=I(void 0);const D=x(()=>Q(u(f),{startOfWeek:e.startOfWeek,timezone:e.timezone,utc:e.utc,today:e.today,minDate:e.minDate,maxDate:e.maxDate,excludeDates:e.excludeDates,includeDates:e.includeDates},e.manipulateDate)||[]);N(()=>{if(!e.value){C(f,e.activeMonth,!0);return}e.activeMonth&&p(e.activeMonth,void 0,{timezone:e.timezone,utc:e.utc}).format("MMM YYYY")!==p(e.value,void 0,{timezone:e.timezone,utc:e.utc}).format("MMM YYYY")?C(f,e.activeMonth,!0):C(f,e.value,!0)});var c=H(),o=O(c);F(o,{get nameType(){return e.weekDayNameType},get startOfWeek(){return e.startOfWeek},get customCalendarWeekContent(){return e.customCalendarWeekContent},get customCalendarWeek(){return e.customCalendarWeek},get size(){return d()},get weekendDays(){return e.weekendDays}});var l=V(o,2);z(l,17,()=>u(D),E,(s,m)=>{var i=G(),y=O(i);z(y,21,()=>u(m),b=>b.id,(b,k)=>{{let v=x(()=>!!(r()&&p(e.value,void 0,{timezone:e.timezone,utc:e.utc}).format("DD-MM-YYY")===p(u(k).date,void 0,{timezone:e.timezone,utc:e.utc}).format("DD-MM-YYY"))),T=x(()=>!!(M()&&e.weekendDays?.includes(p(u(k).date,void 0,{timezone:e.timezone,utc:e.utc}).format("ddd").toLowerCase())));B(b,q({get dayOfMonth(){return u(k)},get color(){return e.color},get showToday(){return e.showToday},get showLastMonth(){return e.showLastMonth},get showNextMonth(){return e.showNextMonth},get selected(){return u(v)},get onselect(){return e.onselect},get customCalendarDateChip(){return e.customCalendarDateChip},get customCalendarDateChipContent(){return e.customCalendarDateChipContent},get size(){return d()},get timezone(){return e.timezone},get utc(){return e.utc},get weekend(){return u(T)}},()=>e.calendarDateChipProps))}}),g(s,i)}),A(c,s=>t(s),()=>t()),L(s=>R(c,1,s,"svelte-tlq3dy"),[()=>P(["dodo-ui-CalendarDatesChart",`size--${d()}`,n()].join(" "))]),g(a,c),j()}U.__docgen={data:[{name:"ref",visibility:"public",description:"CalendarDatesChart ref",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"HTMLUListElement"},static:!1,readonly:!1,defaultValue:"..."},{name:"class",visibility:"public",description:"Custom css class",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"value",visibility:"public",description:"Selcted date Value",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"activeMonth",visibility:"public",description:"Define active month to override month selected with value",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"startOfWeek",visibility:"public",description:"Start Of Week",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"timezone",visibility:"public",description:'Timezone string (e.g., "America/New_York").',keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"utc",visibility:"public",description:"Whether to return the time in UTC. If true, overrides timezone.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"calendarDateChipProps",visibility:"public",description:"calendarDateChipProps: CalendarDateChip component props",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"color",visibility:"public",description:"What color to use?",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"primary",text:'"primary"'},{kind:"const",type:"string",value:"secondary",text:'"secondary"'},{kind:"const",type:"string",value:"neutral",text:'"neutral"'},{kind:"const",type:"string",value:"safe",text:'"safe"'},{kind:"const",type:"string",value:"warning",text:'"warning"'},{kind:"const",type:"string",value:"danger",text:'"danger"'}],text:'"primary" | "secondary" | "neutral" | "safe" | "warning" | "danger"'},static:!1,readonly:!1},{name:"showToday",visibility:"public",description:"Show Today",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"showLastMonth",visibility:"public",description:"Show last month dates",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"showNextMonth",visibility:"public",description:"Show next month dates",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"showSelected",visibility:"public",description:"Show slected",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"today",visibility:"public",description:"Set today manually",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"minDate",visibility:"public",description:"Minimum allowed date, rest of the dates will be disabled",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"maxDate",visibility:"public",description:"Maxium allowed date, rest of the dates will be disabled",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"excludeDates",visibility:"public",description:"Exclude Dates, these dates will be disabled",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"Date[]"},static:!1,readonly:!1},{name:"includeDates",visibility:"public",description:"Include Dates, rest of the dates will be disabled",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"Date[]"},static:!1,readonly:!1},{name:"onselect",visibility:"public",description:"onselect event handler",keywords:[],kind:"let",type:{kind:"function",text:"(value: Date, dayOfMonth: DateOfMonth, e: ButtonClickEvent) => void"},static:!1,readonly:!1},{name:"customCalendarDateChipContent",visibility:"public",description:"Custom Calendar Chip Content",keywords:[],kind:"let",type:{kind:"function",text:"(dayOfMonth: DateOfMonth) => Snippet<[]>"},static:!1,readonly:!1},{name:"customCalendarDateChip",visibility:"public",description:"Custom Calendar Chip",keywords:[],kind:"let",type:{kind:"function",text:"(dayOfMonth: DateOfMonth) => Snippet<[]>"},static:!1,readonly:!1},{name:"customCalendarWeekContent",visibility:"public",description:"Custom Calendar Week Content",keywords:[],kind:"let",type:{kind:"function",text:"(week: CalendarWeekOption) => Snippet<[]>"},static:!1,readonly:!1},{name:"customCalendarWeek",visibility:"public",description:"Custom Calendar Week",keywords:[],kind:"let",type:{kind:"function",text:"(week: CalendarWeekOption) => Snippet<[]>"},static:!1,readonly:!1},{name:"weekDayNameType",visibility:"public",description:"week day Name type",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"size",visibility:"public",description:"How large should the Component be?",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"normal",text:'"normal"'},{kind:"const",type:"string",value:"small",text:'"small"'},{kind:"const",type:"string",value:"large",text:'"large"'}],text:'"normal" | "small" | "large"'},static:!1,readonly:!1,defaultValue:'"normal"'},{name:"weekendDays",visibility:"public",description:"Weekend days",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"CalendarWeekNames[]"},static:!1,readonly:!1},{name:"weekendDaysColorDays",visibility:"public",description:"Color Weekend days",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"manipulateDate",visibility:"public",description:"manipulate date callback",keywords:[],kind:"let",type:{kind:"function",text:"(dateToModify: DateOfMonth, settings?: CreateDatesOfMonthSettings | undefined) => DateOfMonth"},static:!1,readonly:!1}],name:"CalendarDatesChart.svelte"};function J(a,e){const n=[];for(let t=0;t<a.length;t+=e)n.push(a.slice(t,t+e));return n}function K(a,e){return p(a,void 0,{timezone:e?.timezone,utc:e?.utc})}function Q(a,e,n){if(!a)return null;const t=K(a,e).startOf("month").startOf("day");if(!t.isValid())return null;const r=e?.showNextMonth!==!1,d=e?.showLastMonth!==!1,M=W.find(i=>i.abr3===e?.startOfWeek)||W[0],D=(t.day()-M.value+7)%7,c=t.daysInMonth(),o=[],l=t.clone().subtract(D,"days"),s=t.clone().add(1,"month");if(d)for(let i=0;i<D;i++){const y=l.clone().add(i,"days");o.push(Y(y.toDate(),e,"lastMonth",n))}for(let i=1;i<=c;i++){const y=t.clone().set("date",i);o.push(Y(y.toDate(),e,"currentMonth",n))}const m=J(o,7);if(r){const i=m[m.length-1],y=7-i.length;if(y>0){const b=[];for(let k=0;k<y;k++){const v=s.clone().add(k,"days");b.push(Y(v.toDate(),e,"nextMonth",n))}m[m.length-1]=[...i,...b]}}return m}function h(a,e){return p(a,void 0,{timezone:e?.timezone,utc:e?.utc})}function X(a,e,n){const t=a.format("DD-MM-YYYY");return n===t||e===t}function Z(a,e,n,t,r){const d=a.format("DD-MM-YYYY");return!!(e?.isValid()&&a.isBefore(e)||n?.isValid()&&a.isAfter(n)||t?.includes(d)||r&&!r.includes(d))}function Y(a,e,n="currentMonth",t){const r=e?.minDate?h(e.minDate,e):void 0,d=e?.maxDate?h(e.maxDate,e):void 0,M=e?.excludeDates?.map(s=>h(s,e).format("DD-MM-YYYY")),f=e?.includeDates?.map(s=>h(s,e).format("DD-MM-YYYY")),D=h(void 0,e).format("DD-MM-YYYY"),c=e?.today?h(e.today,e).format("DD-MM-YYYY"):void 0,o=h(a,e);let l={id:`${o.valueOf()}`,date:o.toDate(),isCurrentMonth:!0,disabled:Z(o,r,d,M,f),today:X(o,D,c)};return n==="lastMonth"?(l.isLastMonth=!0,l.isCurrentMonth=!1):n==="nextMonth"&&(l.isNextMonth=!0,l.isCurrentMonth=!1),t&&(l=t(l,e)),l}export{U as C,Y as c};
