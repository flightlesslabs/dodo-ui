import{p as W,G as b,o as B,c as F,j as K,H as v,a as g,I,b as d,g as s,k as Q,u as L,J as V,t as A,e as H,h as j}from"./iframe-B_h0ZugA.js";import{e as R}from"./each-Bz-EbiWA.js";import{M as X}from"./Menu-7DA6-MSP.js";import"./getMoment-lRxgIpNk.js";import"./Popper-Ct7Pfu-W.js";import{M as T}from"./MenuItem-CVm9-pHS.js";function Y(z,e){W(e,!0);let U=b(e,"class",3,""),u=b(e,"ref",15),q=b(e,"keyboardNavigation",3,!1),G=b(e,"showOptionsPlaceholder",3,!1),J=b(e,"optionsPlaceholder",3,"No options found"),y=Q(0),O=e.customMenuItemContent,D=e.customPlaceholderMenuItemContent;function C(i){let t;if(!u())return;switch(i.key){case"ArrowDown":case"ArrowUp":t=i.key,i.preventDefault();break;case"Enter":case"Esc":t=i.key;break}if(!t)return;if(t==="Enter"){e.onEnter&&e.onEnter(i,s(y));return}else if(t==="Escape"){e.onEsc&&e.onEsc(i,s(y));return}const a=u().querySelectorAll(":scope > li.dodo-ui-MenuItem");if(!a.length)return;for(let m=0;m<a.length;m++)a[m].classList.remove("hover");let n=s(y);t==="ArrowDown"?a[n+1]?n=n+1:n=0:t==="ArrowUp"&&(a[n-1]?n=n-1:n=a.length-1);const f=a[n];f.classList.add("hover"),f.focus(),f.scrollIntoView({block:"nearest"}),K(y,n,!0)}B(()=>{if(!q())return;const i=u().querySelector(":scope > li.dodo-ui-MenuItem.selected");if(i){const t=e.options?.findIndex(a=>a.id===e.selectedOption?.id);t!==void 0&&t>=0&&K(y,t,!0),i.focus(),i.scrollIntoView({block:"nearest"})}return window.addEventListener("keydown",C),()=>{window.removeEventListener("keydown",C)}});{let i=L(()=>["dodo-ui-DynamicMenu",U()].join(" "));X(z,{get class(){return s(i)},get id(){return e.id},get size(){return e.size},get width(){return e.width},get height(){return e.height},get separator(){return e.separator},get ref(){return u()},set ref(t){u(t)},children:(t,a)=>{var n=v(),f=g(n);{var m=c=>{var p=v(),x=g(p);R(x,17,()=>e.options,k=>k.id,(k,o)=>{{let M=L(()=>e.selectedOption?.id===s(o).id);T(k,V(()=>s(o),{get selected(){return s(M)},onclick:w=>e.onclick?e.onclick(w,s(o)):void 0},()=>e.menuItemProps,{children:(w,E)=>{var h=v(),_=g(h);{var P=l=>{O(l,()=>s(o),()=>e.selectedOption)},r=l=>{var S=A();H(()=>j(S,s(o).label||"")),d(l,S)};I(_,l=>{O?l(P):l(r,!1)})}d(w,h)},$$slots:{default:!0}}))}}),d(c,p)},N=c=>{var p=v(),x=g(p);{var k=o=>{T(o,V({type:"text",disabled:!0},()=>e.menuItemProps,{children:(M,w)=>{var E=v(),h=g(E);{var _=r=>{D(r)},P=r=>{var l=A();H(()=>j(l,J())),d(r,l)};I(h,r=>{D?r(_):r(P,!1)})}d(M,E)},$$slots:{default:!0}}))};I(x,o=>{G()&&o(k)},!0)}d(c,p)};I(f,c=>{e.options?.length?c(m):c(N,!1)})}d(t,n)},$$slots:{default:!0}})}F()}Y.__docgen={data:[{name:"ref",visibility:"public",description:"Menu ref",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"HTMLUListElement"},static:!1,readonly:!1,defaultValue:"..."},{name:"class",visibility:"public",description:"Custom css class",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"width",visibility:"public",description:"Menu Width",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"height",visibility:"public",description:"Menu Height",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"size",visibility:"public",description:"How large should the Menu Items be?",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"normal",text:'"normal"'},{kind:"const",type:"string",value:"small",text:'"small"'},{kind:"const",type:"string",value:"large",text:'"large"'}],text:'"normal" | "small" | "large"'},static:!1,readonly:!1},{name:"separator",visibility:"public",description:"Menu Separator",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"id",visibility:"public",description:"Id",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"options",visibility:"public",description:"Options",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"DynamicMenuItemOption<unknown>[]"},static:!1,readonly:!1},{name:"selectedOption",visibility:"public",description:"Selected Option",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"DynamicMenuItemOption<unknown>"},static:!1,readonly:!1},{name:"customMenuItemContent",visibility:"public",description:"Custom Menu Item Content",keywords:[],kind:"let",type:{kind:"function",text:"(option: DynamicMenuItemOption<unknown>, selectedOption?: DynamicMenuItemOption<unknown> | undefined) => Snippet<[]>"},static:!1,readonly:!1},{name:"showOptionsPlaceholder",visibility:"public",description:"Show Placeholder if no options",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"optionsPlaceholder",visibility:"public",description:"placeholder Text if no options",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"No options found"'},{name:"customPlaceholderMenuItemContent",visibility:"public",description:"Custom Menu Item Placeholder Content",keywords:[],kind:"let",type:{kind:"function",text:"() => Snippet<[]>"},static:!1,readonly:!1},{name:"menuItemProps",visibility:"public",description:"MenuItem: Menu component props",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"keyboardNavigation",visibility:"public",description:"Enable Keyboard Navigation",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"onEnter",visibility:"public",description:"Keyboard Navigation onEnter",keywords:[],kind:"let",type:{kind:"function",text:"(e: KeyboardEvent, menuItemIndex: number) => void"},static:!1,readonly:!1},{name:"onEsc",visibility:"public",description:"Keyboard Navigation onEsc",keywords:[],kind:"let",type:{kind:"function",text:"(e: KeyboardEvent, menuItemIndex: number) => void"},static:!1,readonly:!1},{name:"onclick",visibility:"public",description:"On menu item click",keywords:[],kind:"let",type:{kind:"function",text:"(e: MouseEvent, option: DynamicMenuItemOption<unknown>) => void"},static:!1,readonly:!1}],name:"DynamicMenu.svelte"};export{Y as D};
