import{y as t,q as b,z as h,A as m,B as i,C as y,D as f,E as S,F as g}from"./iframe-CCEZUMhS.js";function E(e,l,r=l){var n=y(),v=new WeakSet;t(e,"input",d=>{var a=d?e.defaultValue:e.value;if(a=u(e)?_(a):a,r(a),f!==null&&v.add(f),n&&a!==(a=l())){var o=e.selectionStart,c=e.selectionEnd;e.value=a??"",c!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(c,e.value.length))}}),b(l)==null&&e.value&&(r(u(e)?_(e.value):e.value),f!==null&&v.add(f)),h(()=>{var d=l();if(e===document.activeElement){var a=S??f;if(v.has(a))return}u(e)&&d===_(e.value)||e.type==="date"&&!d&&!e.value||d!==e.value&&(e.value=d??"")})}const s=new Set;function A(e,l,r,n,v=n){var d=r.getAttribute("type")==="checkbox",a=e;if(l!==null)for(var o of l)a=a[o]??=[];a.push(r),t(r,"change",()=>{var c=r.__value;d&&(c=w(a,c,r.checked)),v(c)},()=>v(d?[]:null)),h(()=>{var c=n();d?(c=c||[],r.checked=c.includes(r.__value)):r.checked=g(r.__value,c)}),m(()=>{var c=a.indexOf(r);c!==-1&&a.splice(c,1)}),s.has(a)||(s.add(a),i(()=>{a.sort((c,k)=>c.compareDocumentPosition(k)===4?-1:1),s.delete(a)})),i(()=>{})}function q(e,l,r=l){t(e,"change",n=>{var v=n?e.defaultChecked:e.checked;r(v)}),b(l)==null&&r(e.checked),h(()=>{var n=l();e.checked=!!n})}function w(e,l,r){for(var n=new Set,v=0;v<e.length;v+=1)e[v].checked&&n.add(e[v].__value);return r||n.delete(l),Array.from(n)}function u(e){var l=e.type;return l==="number"||l==="range"}function _(e){return e===""?null:+e}export{q as a,E as b,A as c};
